{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c08eaabe2de2446cf53d","webpack:///./src/RecursiveIterator.ts","webpack:///./src/lang.ts"],"names":[],"mappings":"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","file":"recursive-iterator.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RecursiveIterator\"] = factory();\n\telse\n\t\troot[\"RecursiveIterator\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c08eaabe2de2446cf53d","import { isObject, getKeys } from './lang';\n\nconst EMPTY_STATE = {};\n\nexport = class RecursiveIterator {\n  private CACHE = [];\n  private QUEUE = [];\n  private STATE;\n\n  /**\n   * @param {Object|Array} root\n   * @param {Number} [bypassMode=0]\n   * @param {Boolean} [ignoreCircular=false]\n   * @param {Number} [maxDeep=100]\n   */\n  constructor(\n    root,\n    private BYPASS_MODE = 0,\n    private IGNORE_CIRCULAR = false,\n    private MAX_DEEP = 100\n  ) {\n    this.STATE = this.getState(undefined, root, null);\n  }\n  /**\n   * @returns {Object}\n   */\n  next() {\n    const { node, path, deep } = this.STATE || EMPTY_STATE;\n\n    if (this.MAX_DEEP > deep) {\n      if (this.isNode(node)) {\n        if (this.isCircular(node)) {\n          if (this.IGNORE_CIRCULAR) {\n            // skip\n          } else {\n            throw new Error('Circular reference');\n          }\n        } else {\n          if (this.onStepInto(this.STATE)) {\n            const descriptors = this.getStatesOfChildNodes(node, path, deep);\n            const method = this.BYPASS_MODE ? 'push' : 'unshift';\n            this.QUEUE[method](...descriptors);\n            this.CACHE.push(node);\n          }\n        }\n      }\n    }\n\n    const value = this.QUEUE.shift();\n    const done = !value;\n\n    this.STATE = value;\n\n    if (done) {\n      this.destroy();\n    }\n\n    return { value, done };\n  }\n  /**\n   *\n   */\n  destroy() {\n    this.QUEUE.length = 0;\n    this.CACHE.length = 0;\n    this.STATE = null;\n  }\n  /**\n   * @param {*} any\n   * @returns {Boolean}\n   */\n  isNode(any) {\n    return isObject(any);\n  }\n  /**\n   * @param {*} any\n   * @returns {Boolean}\n   */\n  isLeaf(any) {\n    return !this.isNode(any);\n  }\n  /**\n   * @param {*} any\n   * @returns {Boolean}\n   */\n  isCircular(any) {\n    return this.CACHE.indexOf(any) !== -1;\n  }\n  /**\n   * Returns states of child nodes\n   * @param {Object} node\n   * @param {Array} path\n   * @param {Number} deep\n   * @returns {Array<Object>}\n   */\n  getStatesOfChildNodes(node, path, deep) {\n    return getKeys(node).map(key =>\n      this.getState(node, node[key], key, path.concat(key), deep + 1)\n    );\n  }\n  /**\n   * Returns state of node. Calls for each node\n   * @param {Object} [parent]\n   * @param {*} [node]\n   * @param {String} [key]\n   * @param {Array} [path]\n   * @param {Number} [deep]\n   * @returns {Object}\n   */\n  getState(parent, node, key, path = [], deep = 0) {\n    return { parent, node, key, path, deep };\n  }\n  /**\n   * Callback\n   * @param {Object} state\n   * @returns {Boolean}\n   */\n  onStepInto(state) {\n    return true;\n  }\n  /**\n   * @returns {RecursiveIterator}\n   */\n  [Symbol.iterator]() {\n    return this;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/RecursiveIterator.ts","/**\n * @param {*} any\n * @returns {Boolean}\n */\nfunction isObject(any) {\n  return any !== null && typeof any === \"object\";\n}\n\n/**\n * @param {*} any\n * @returns {Boolean}\n */\nconst { isArray } = Array;\n/**\n * @param {*} any\n * @returns {Boolean}\n */\nfunction isArrayLike(any) {\n  if (!isObject(any)) return false;\n  if (!(\"length\" in any)) return false;\n  const length = any.length;\n  if (!isNumber(length)) return false;\n  if (length > 0) {\n    return length - 1 in any;\n  } else {\n    for (const key in any) {\n      return false;\n    }\n  }\n}\n\n/**\n * @param {*} any\n * @returns {Boolean}\n */\nfunction isNumber(any) {\n  return typeof any === \"number\";\n}\n/**\n * @param {Object|Array} object\n * @returns {Array<String>}\n */\nfunction getKeys(object) {\n  const keys_ = Object.keys(object);\n  if (isArray(object)) {\n    // skip sort\n  } else if (isArrayLike(object)) {\n    const index = keys_.indexOf(\"length\");\n    if (index > -1) {\n      keys_.splice(index, 1);\n    }\n    // skip sort\n  } else {\n    // sort\n    keys_.sort();\n  }\n  return keys_;\n}\n\nexport { getKeys, isArray, isArrayLike, isObject, isNumber };\n\n\n// WEBPACK FOOTER //\n// ./src/lang.ts"],"sourceRoot":""}